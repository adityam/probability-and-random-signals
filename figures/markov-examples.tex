\usepath[/home/adityam/Projects/presentations]

\enablemode[lucida]
\environment env-fonts.tex
\setupbodyfont[slidefont,12pt]

\usemodule[tikz]
\usetikzlibrary[matrix,positioning]

\tikzset{state/.style={circle, draw,
                line width=1.5bp,
                inner sep=0.6em,
                draw=blue!75!black,
                minimum width=3em,
                fill=blue!15!white,
                font=\bold,
                text=blue!90!black,
                }}


\starttext
% On Off Markov chain
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=1.5cm, row sep=1.5cm] (m) {
    \m{0} & \m{1} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$1-a$} (m-1-1)
       (m-1-2) edge[loop right] node {$1-b$} (m-1-2)

       (m-1-1) edge[bend left, auto=left] node {$a$} (m-1-2)
       (m-1-2) edge[bend left, auto=left] node {$b$} (m-1-1)
       ;

\stoptikzpicture}
\stopTEXpage

% Ehrenfest model of diffusion

\tikzset{stateE/.style={circle, draw,
                line width=1.5bp,
                inner sep=0.6em,
                draw=blue!75!black,
                minimum width=4em,
                fill=blue!15!white,
                font=\bold,
                text=blue!90!black,
                }}


\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={stateE}, column sep=1.5cm, row sep=1.5cm] (m) {
    \m{0} & \m{1} & \m{2} &  \node[draw=none, fill=none] (dummy) {\clap{$\dorecurse{9}{\cdotp}$}}; & \m{K-1} & \m{K} \\
  };
  \draw[every loop]
       (m-1-1) edge[bend left, auto=left] node {$1$} (m-1-2)
       (m-1-2) edge[bend left, auto=left] node {$\dfrac{1}{K}$} (m-1-1)

       (m-1-2) edge[bend left, auto=left] node {$1 - \dfrac{1}{K}$} (m-1-3)
       (m-1-3) edge[bend left, auto=left] node {$\dfrac{2}{K}$} (m-1-2)

       (m-1-5) edge[bend left, auto=left] node {$\dfrac{1}{K}$} (m-1-6)
       (m-1-6) edge[bend left, auto=left] node {$1$} (m-1-5)

       (m-1-3) edge[bend left, auto=left] node {$1 - \dfrac{2}{K}$} (dummy)
       (dummy) edge[bend left, auto=left] node {$\dfrac{3}{K}$} (m-1-3)

       (dummy) edge[bend left, auto=left] node {$\dfrac{2}{K}$} (m-1-5)
       (m-1-5) edge[bend left, auto=left] node {$1 - \dfrac{1}{K}$} (dummy)
       ;

\stoptikzpicture}
\stopTEXpage

\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=1.5cm, row sep=1.5cm] (m) {
    \m{1} & \m{2} & \m{3} \\
    \m{4} & \m{5} & \m{6} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$0.5$} (m-1-1)
       (m-1-3) edge[loop right] node {$0.5$} (m-1-3)
       (m-2-3) edge[loop right] node {$0.5$} (m-2-3)

       (m-1-1) edge[bend left, auto=left] node {$0.5$} (m-1-2)
       (m-1-2) edge[bend left, auto=left] node {$0.5$} (m-1-1)

       (m-1-2) edge[bend left, auto=left] node {$0.5$} (m-1-3)
       (m-1-3) edge[bend left, auto=left] node {$0.5$} (m-1-2)

       (m-2-1) edge[bend left, auto=left] node {$0.5$} (m-2-2)
       (m-2-2) edge[bend left, auto=left] node {$0.5$} (m-2-1)

       (m-2-2) edge[bend left, auto=left] node {$0.5$} (m-2-3)
       (m-2-3) edge[bend left, auto=left] node {$0.5$} (m-2-2)

       (m-2-1) edge[auto=left] node {$0.5$} (m-1-1)
       ;

\stoptikzpicture}
\stopTEXpage

% Coin toss: head before tail
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=2cm, row sep=1.5cm] (m) {
    \m{-1} & \m{0} & \m{1} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$1$} (m-1-1)
       (m-1-3) edge[loop right] node {$1$} (m-1-3)

       (m-1-2) edge[bend left, auto=left] node {$p$} (m-1-3)
       (m-1-2) edge[bend left, auto=left] node {$q$} (m-1-1)
       ;

\stoptikzpicture}
\stopTEXpage

% Coin toss: two heads before two tails
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=1.5cm, row sep=1.5cm] (m) {
    \m{-2} & \m{-1} & \m{0} & \m{1} & \m{2} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$1$} (m-1-1)
       (m-1-5) edge[loop right] node {$1$} (m-1-5)

       (m-1-3) edge[bend left, auto=left] node {$p$} (m-1-4)
       (m-1-3) edge[bend left, auto=left] node {$q$} (m-1-2)

       (m-1-4) edge[bend left, auto=left] node {$p$} (m-1-5)
       (m-1-4) edge[bend left, auto=left] node {$q$} (m-1-3)

       (m-1-2) edge[bend left, auto=left] node {$p$} (m-1-3)
       (m-1-2) edge[bend left, auto=left] node {$q$} (m-1-1)
       ;

\stoptikzpicture}
\stopTEXpage

% Coin toss: until first head
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=2cm, row sep=1.5cm] (m) {
    \m{0} & \m{1} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$q$} (m-1-1)
       (m-1-2) edge[loop right] node {$1$} (m-1-2)

       (m-1-1) edge[bend left, auto=left] node {$p$} (m-1-2)
       ;

\stoptikzpicture}
\stopTEXpage

% Coin toss: until two consecutive heads
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=1.5cm, row sep=1.5cm] (m) {
    \m{0} & \m{1} & \m{2} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$q$} (m-1-1)
       (m-1-3) edge[loop right] node {$1$} (m-1-3)

       (m-1-1) edge[bend left, auto=left] node {$p$} (m-1-2)

       (m-1-2) edge[bend left, auto=left] node {$p$} (m-1-3)
       (m-1-2) edge[bend left, auto=left] node {$q$} (m-1-1)
       ;

\stoptikzpicture}
\stopTEXpage

% Two absorbing states (multiple invariant distributions)
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=2cm, row sep=1.5cm] (m) {
    \m{0} & \m{1} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$1$} (m-1-1)
       (m-1-2) edge[loop right] node {$1$} (m-1-2)
       ;

\stoptikzpicture}
\stopTEXpage

% Three-state aperiodic chain (invariant distribution exercise)
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=1.5cm, row sep=1.5cm] (m) {
    \m{0} & \m{1} & \m{2} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$0.3$} (m-1-1)
       (m-1-2) edge[loop above] node {$0.3$} (m-1-2)
       (m-1-3) edge[loop right] node {$0.3$} (m-1-3)

       (m-1-1) edge[bend left, auto=left] node {$0.7$} (m-1-2)
       (m-1-2) edge[bend left, auto=left] node {$0.7$} (m-1-3)
       (m-1-3) edge[bend left, auto=left] node {$0.7$} (m-1-1)
       ;

\stoptikzpicture}
\stopTEXpage

% Transient-closed class chain (invariant distribution exercise)
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=1.2cm, row sep=2.5cm] (m) {
    \m{0} & \m{1} \\
    \m{2} & \m{3} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$0.6$} (m-1-1)
       (m-1-2) edge[loop right] node {$0.7$} (m-1-2)
       (m-2-1) edge[loop left] node {$0.3$} (m-2-1)
       (m-2-2) edge[loop right] node {$0.4$} (m-2-2)

       (m-1-1) edge[bend left, auto=left] node {$0.4$} (m-1-2)
       (m-1-2) edge[bend left, auto=left] node {$0.3$} (m-1-1)

       (m-2-1) edge[bend left, auto=left] node {$0.2$} (m-2-2)
       (m-2-2) edge[bend left, auto=left] node {$0.1$} (m-2-1)

       (m-2-1) edge[auto=left] node {$0.2$} (m-1-1)
       (m-2-1) edge[auto=left] node {$0.3$} (m-1-2)
       (m-2-2) edge[auto=right] node {$0.1$} (m-1-1)
       (m-2-2) edge[auto=right] node {$0.4$} (m-1-2)
       ;

\stoptikzpicture}
\stopTEXpage

% Absorbing states chain (invariant distribution exercise)
\startTEXpage[offset=1dk]
\scale[scale=1500]{\starttikzpicture[line width=1bp]
   \matrix[matrix of nodes, nodes={state}, column sep=2cm, row sep=1.5cm] (m) {
    \m{0} & \m{1} & \m{2} \\
  };
  \draw[every loop]
       (m-1-1) edge[loop left] node {$1$} (m-1-1)
       (m-1-2) edge[loop above] node {$0.4$} (m-1-2)
       (m-1-3) edge[loop right] node {$1$} (m-1-3)

       (m-1-2) edge[bend left, auto=left] node {$0.2$} (m-1-1)
       (m-1-2) edge[bend left, auto=left] node {$0.4$} (m-1-3)
       ;

\stoptikzpicture}
\stopTEXpage

\stoptext
